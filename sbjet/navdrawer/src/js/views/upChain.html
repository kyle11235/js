<!--
 Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 The Universal Permissive License (UPL), Version 1.0
 -->
<div class="">

    <!-- tool bar -->
    <div class="tool_bar">
        <div class="oj-flex-bar white">
            <div class="oj-flex-bar-start">
                <oj-toolbar>
                    <oj-button data-bind="click: function(){history.back();}">
                        <span slot='startIcon' class='oj-fwk-icon-caret-start oj-fwk-icon'></span>
                    </oj-button>
                    <span class="title">积分上链</span>
                </oj-toolbar>
            </div>
        </div>
    </div>

    <!-- points -->
    <div class="oj-flex oj-sm-align-items-center points-top-section">
        <div class="oj-flex-item">
            <h1 class="points-name" data-bind="text: session.pointsOffChain"></h1>
            <div class="points-title oj-text-sm">链下积分</div>
        </div>
        <div class="oj-flex-item">
            <h1 class="points-name" data-bind="text: session.pointsOnChain"></h1>
            <div class="points-title oj-text-sm">链上积分</div>
        </div>
    </div>

    <!-- form -->
    <div class="form">
        <div class="label">
            积分上链
        </div>
        <oj-input-text class="text" style="margin-top:10px;max-width:100%;border-top:none;" placeholder="{{placeholder}}"
                       value="{{points}}"
                       raw-value="{{points}}"
        ></oj-input-text>

        <div class="mt10" style="color:red;" data-bind="text: warning"/>

        <div class="mt10" style="text-align: center; " data-bind="if: disabled">
            <span class="myGreyButton" style="width: 100%;">确认</span>
        </div>
        <div class="mt10" style="text-align: center; " data-bind="ifnot: disabled">
            <span class="myBlueButton" style="width: 100%;" data-bind="click: submit">确认</span>
        </div>
    </div>


    <!-- popup -->
    <oj-popup class="myPopup" id="popup" style="padding: 20px 10px; width: 80%;"
              tail="none"
              position.my.horizontal="center"
              position.my.vertical="center"
              position.at.horizontal="center"
              position.at.vertical="center"
              modality="modal">

        <!-- check phone -->
        <div data-bind="visible: showMe(1)" class="center">
            <div class="title">验证</div>
            <oj-input-text class="mt10" style="max-width:100%;border-top:none;font-size: 16px;" placeholder="请输入手机号"></oj-input-text>
            <oj-input-text class="mt10" style="max-width:100%;border-top:none;font-size: 16px;" placeholder="请输入密码"></oj-input-text>
            <div class="oj-flex center" style="margin-top:30px; ">
                <div class="oj-flex-item">
                    <span class="myBlueButton" style="width:80%" data-bind="click: submit1">确定</span>
                </div>
                <div class="oj-flex-item">
                    <span class="myButton" style="width:80%" data-bind="click: close">取消</span>
                </div>
            </div>
        </div>

        <!-- message -->
        <div data-bind="visible: showMe(2)" class="center">
            <div class="title">您已成功上链 <span data-bind="text: points"></span> 积分!</div>
            <div class="oj-flex center" style="margin-top:30px;">
                <div class="oj-flex-item">
                    <span class="myBlueButton" style="width:80%" data-bind="click: close">好的</span>
                </div>
            </div>
        </div>

    </oj-popup>


</div>